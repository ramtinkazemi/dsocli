kind: dso/network/subnetplan/v1
name: default
description: Supports four environments and 64 VPCs per environment. Within each VPC, there supported 16 large workloads/applications with 256 hosts, 16 medium wokloads with 128 hosts, 16 small workloads with 64 hosts, and 32 tiny workloads with 32 hosts. There are 8 subnets per workload that are optionally splited to private/public access per Availability Zones.
cidr: 10.0.0.0/8
plans:

- name: H256
  enabled: yes
  segments:
  - name: Environment
    bits: 2
    labels:
      0: prod
      1: reserved
      2: nonprod
      3: core
  - name: VPC
    bits: 6
    labels:
      0: vpc1
      1: vpc2
      62: vpc63
      63: vpc64
  - name: Workload
    bits: 5
    labels:
      0: large-workload1
      1: large-workload2
      14: large-workload15
      15: large-workload16
    select: msd(0b0)
  - name: Accessibility
    bits: 1
    labels:
      0: private
      1: public
  - name: AvailabilityZone
    bits: 2
    labels:
      0: a
      1: b
      2: c
      3: d


- name: H128
  enabled: yes
  segments:
  - name: Environment
    bits: 2
    labels:
      0: prod
      1: reserved
      2: nonprod
      3: core
  - name: VPC
    bits: 6
    labels:
      0: vpc1
      1: vpc2
      62: vpc63
      63: vpc64
  - name: Workload
    bits: 6
    labels:
      0: medium-workload1
      1: medium-workload2
      14: medium-workload15
      15: medium-workload16
    select: msd(0b1) | msd(0bx0)
  - name: Accessibility
    bits: 1
    labels:
      0: private
      1: public
  - name: AvailabilityZone
    bits: 2
    labels:
      0: a
      1: b
      2: c
      3: d


- name: H64
  enabled: yes
  segments:
  - name: Environment
    bits: 2
    labels:
      0: prod
      1: reserved
      2: nonprod
      3: core
  - name: VPC
    bits: 6
    labels:
      0: vpc1
      1: vpc2
      62: vpc63
      63: vpc64
  - name: Workload
    bits: 7
    labels:
      0: small-workload1
      1: small-workload2
      14: small-workload15
      15: small-workload16
    select: msd(0b1) | msd(0bx1) | msd(0bxx0)
  - name: Accessibility
    bits: 1
    labels:
      0: private
      1: public
  - name: AvailabilityZone
    bits: 2
    labels:
      0: a
      1: b
      2: c
      3: d

- name: H32
  enabled: yes
  segments:
  - name: Environment
    bits: 2
    labels:
      0: prod
      1: reserved
      2: nonprod
      3: core
  - name: VPC
    bits: 6
    labels:
      0: vpc1
      1: vpc2
      62: vpc63
      63: vpc64
  - name: Workload
    bits: 8
    labels:
      0: tiny-workload1
      1: tiny-workload2
      30: tiny-workload31
      31: tiny-workload32
    select: msd(0b1) | msd(0bx1) | msd(0bxx1)
  - name: Accessibility
    bits: 1
    labels:
      0: private
      1: public
  - name: AvailabilityZone
    bits: 2
    labels:
      0: a
      1: b
      2: c
      3: d
